
<!DOCTYPE html>
<html>
<body>

<button id="StartButton">Start</button>

<p id="AusgabeFeld"></p>
  
<input id="EingabeFeld" type="text"  name="chat">
  
<button id="SendeButton">Senden</button>
  
<script>
var Status;     	//Var --> speichert Gesprächsfortschritt
var Name;		//Var --> speichert den Namen des Nutzers
var Alter;		//Var --> speichert das Alter des Nutzers
var Beruf;		//Var --> speichert den Beruf des Nutzers

document.getElementById("StartButton").onclick = function() {first();};
document.getElementById("SendeButton").onclick = function() {main();};

function first()
{
	//Deklaration und Implementation
	var Ausgabe;		//Var für Ausgaben... wird immer wieder überschrieben
	Status = 0;		
	//Programm Ablauf
	Ausgabe = 'Wie heißt du?';
    	//document.getElementById("AusgabeFeld").innerHTML = Ausgabe;
	Output("AusgabeFeld", Ausgabe);

	return 0;
}
function main()				//wird aufgerufen, wenn der Sende Button gedrückt wird
{
    switch(Status)
      {
        case -1: ENDE(); break;
        case 0: Ebene0(); break;
        case 1: Ebene1(); break;
        case 2: Ebene2(); break;
        case 3: Ebene3(); break;
        case 4: Ebene4(); break;
        case 5: Ebene5(); break;
        case 6: Ebene6(); break;
        case 7: Ebene7(); break;
        case 8: Ebene8(); break;
        case 9: Ebene9(); break;
        case 10: Ebene10(); break;
        case 11: Ebene11(); break;
        case 12: Ebene12(); break;
        default: ENDE(); break;
      }

	return 0;
}
function Ebene0()
{
    	//Deklaration und Implementation
	var Ausgabe;		//Var für Ausgaben... wird immer wieder überschrieben
		
	Name = getText("EingabeFeld");
	Ausgabe = 'Hallo ' + Name + ', möchtest du an einer kurzen Umfrage teilnehmen?';
	Output("AusgabeFeld", Ausgabe);
    	Status = 1;
  
    	return 0;
}
function Ebene1()
{
    var Eingabe;
    var Ausgabe;
    Eingabe = getYesNo("EingabeFeld");
    if (Eingabe == 'Ja')
      {
        Ausgabe = 'Schön, dass du dir die Zeit nimmst.';
        Output("AusgabeFeld", Ausgabe);
        Status = 2;
      }
    else if (Eingabe == 'Nein')
      {
        Ausgabe = 'Schade, vielleicht findest du ein anderes mal Zeit!';
        Output("AusgabeFeld", Ausgabe);
        Status = -1;
      }
    else
      {
        Output("AusgabeFeld", Eingabe);
      }
  
    return 0;
}
function Ebene2()
{
    var Eingabe;
    var Ausgabe;   
    Ausgabe = 'Wie alt bist du?';
    Output("AusgabeFeld", Ausgabe);
    Alter = getText("EingabeFeld");
    if (Alter <= 18)
      {
        Ausgabe = 'Witzig. Genau, wie mein Sohn.';
        Output("AusgabeFeld", Ausgabe);
        Ausgabe = 'Gehst du noch zur Schule?';
        Output("AusgabeFeld", Ausgabe);
        Status = 3;
      }
    else if ((Alter > 18) && (Alter < 40))
      {
        Ausgabe = 'Witzig. Genauso alt, wie mein Nachbar.';
        Output("AusgabeFeld", Ausgabe);
        Ausgabe = 'Bist du zur Zeit berufstätig?';
        Output("AusgabeFeld", Ausgabe);
        Status = 4;    
      }
    else if ((Alter >= 40) && (Alter < 100))
      {
        Ausgabe = 'Witzig. Genauso alt, wie mein Vater.';
        Output("AusgabeFeld", Ausgabe);
        Ausgabe = 'Bist du zur Zeit berufstätig?';
        Output("AusgabeFeld", Ausgabe);
        Status = 4;
      }
    else if (Alter >= 100)
      {
        Ausgabe = 'Das erscheint mir sehr unwahrscheinlich.';
        Output("AusgabeFeld", Ausgabe);
        Ausgabe = 'Bist du zur Zeit berufstätig?';
        Output("AusgabeFeld", Ausgabe);
        Status = 4;
      }
  
    return 0;
}
function Ebene3()
{
  var Eingabe;
  var Ausgabe;
  Eingabe = getYesNo("EingabeFeld");
  if (Eingabe == 'Ja')                          //Noch ergänzen
      {
        Ebene8();
        Status = 9;
      }
    else if (Eingabe == 'Nein')
      {
        Ausgabe = 'Bist du gerade auf der Suche nach einer Arbeit?';
        Output("AusgabeFeld", Ausgabe);
        Ausgabe = 'Mit ' + Alter + ' Jahren findet man doch bestimmt leicht eine Stelle?';
        Output("AusgabeFeld", Ausgabe);
        Status = 6;
      }
    else
      {
        Output("AusgabeFeld", Eingabe);
      }
  
  return 0;
}
function Ebene4()
{
  var Eingabe;
  var Ausgabe;
  Eingabe = getYesNo("EingabeFeld");
  if (Eingabe == 'Ja')
      {
        Ausgabe = 'Arbeitest du in Vollzeit oder Teilzeit?';
        Output("AusgabeFeld", Ausgabe);
        Status = 7;
      }
    else if (Eingabe == 'Nein')
      {
        Ausgabe = 'Dann befindest du dich bestimmt gerade in einer Ausbildung?';
        Output("AusgabeFeld", Ausgabe);
        Ausgabe = 'Oder studierst du momentan?';
        Output("AusgabeFeld", Ausgabe);
        Ebene8();
	Status = 9;
      }
    else
      {
        Output("AusgabeFeld", Eingabe);
      }
  
  return 0;
}
function Ebene5()                  //Noch einfügen
{
	var Eingabe;
	var Ausgabe;
	Eingabe = getYesNo("EingabeFeld");
	if (Eingabe == 'Ja')
      	{
        	Ausgabe = 'Ich freue mich, dass du mit deinen Lehrern zufrieden bist. Ich hoffe es bleibt so.';
        	Output("AusgabeFeld", Ausgabe);
        	Status = -1;
      	}
    	else if (Eingabe == 'Nein')
      	{
        	Ausgabe = 'Schade, vielleicht solltest du mal mit einer Person deines Vertrauens darüber reden.';
        	Output("AusgabeFeld", Ausgabe);
        	Ausgabe = 'Ich hoffe es wird besser.';
        	Output("AusgabeFeld", Ausgabe);
		Status = -1;
      	}
    	else
      	{
        	Output("AusgabeFeld", Eingabe);
      	}
  
	return 0;
}
function Ebene6()
{
  var Ausgabe;
  Ausgabe = 'Ich hoffe du findest bald das Richtige für dich.';
  Output("AusgabeFeld", Ausgabe);
  Status = -1;
  
  return 0;
}
function Ebene7()
{
  var J = false;
  var N = false;
  var Eingabe;
  var Ausgabe;
  Eingabe = getText("EingabeFeld");
  //Eingabe Auswerten
  Eingabe = Eingabe.toUpperCase();                         	//alles in Großbuchstaben umwandeln
  //Eingabe Verarbeiten
  if (Eingabe.indexOf('VOLLZEIT') != -1)    //String enthält Vollzeit
      	{
		Ausgabe = 'Toll! Ich momentan auch.';
		Output("AusgabeFeld", Ausgabe);
        	Ausgabe = 'Was bist du denn hauptberuflich?';
 		Output("AusgabeFeld", Ausgabe);
		J = true;
		Status = 10;
      	}
  if (Eingabe.indexOf('TEILZEIT') != -1)    //String enthält Teilzeit
      	{
		Ausgabe = 'Toll! Ich momentan auch.';
        	Output("AusgabeFeld", Ausgabe);
		Ausgabe = 'Hast du noch einen Nebenjob?';
  		Output("AusgabeFeld", Ausgabe);
		N = true;
            	Status = 11;
      	}
  if (( (Eingabe.indexOf('VOLLZEIT') == -1) && (Eingabe.indexOf('TEILZEIT') == -1) ) || ( (J === true) && (N === true) ))    //String ist unverständlich
      	{
            Ausgabe = 'Ich glaube ich habe das nicht genau verstanden! Kannst du das bitte nocheinmal wiederholen';
            Output("AusgabeFeld", Ausgabe);
      	}
  
  return 0;
}
function Ebene8()
{
  var Ausgabe;
  Ausgabe = 'Was lernst du denn gerade?';
  Output("AusgabeFeld", Ausgabe);
  Status = 9;

  return 0;
}
function Ebene9()
{
  	var Ausgabe;
	Ausgabe = 'Das klingt ziemlich kompliziert.';
	Output("AusgabeFeld", Ausgabe);
	Ausgabe = 'In soetwas war ich noch nie besonders gut.';
	Output("AusgabeFeld", Ausgabe);
	Ausgabe = 'Bist du mit deinen Lehrern zufrieden?';
	Output("AusgabeFeld", Ausgabe);
	Status = 5;
  
  	return 0;
}
function Ebene10()
{ 
  var Ausgabe;  
  Beruf = getText("EingabeFeld");
  Ausgabe = 'Was verdienst du als ' + Beruf + ' ?';
  Output("AusgabeFeld", Ausgabe);
  Status = 12;

  return 0;
}
function Ebene11()
{ 
  	var Ausgabe;
	var Eingabe;
	Eingabe = getYesNo("EingabeFeld");
	if (Eingabe == 'Ja')
      	{
        	Ausgabe = 'Was ist dein Nebenjob?';
        	Output("AusgabeFeld", Ausgabe);
        	Status = 10;
      	}
   	else if (Eingabe == 'Nein')
     	{
        	Ausgabe = 'Was bist du denn hauptberuflich?';
 		Output("AusgabeFeld", Ausgabe);
        	Status = 10;
      	}
    	else
      	{
        	Output("AusgabeFeld", Eingabe);
     	}

  return 0;
}
function Ebene12()
{
  var Ausgabe;
  Ausgabe = 'Das klingt ziemlich gut.';
  Output("AusgabeFeld", Ausgabe);
  Status = -1;

  return 0;
}
function ENDE()
{
  var Ausgabe;  
  Ausgabe = 'Danke, dass du dir die Zeit genommen hast. Ich hoffe wir sprechen uns bald wieder.';
    Output("AusgabeFeld", Ausgabe);
  
    return 0;
}

function getText (ID)  					//für Text Eingaben
{
	//Deklaration und Initalisierung      	
	var Eingabe;                    //String in dem die Eingabe gespeichert wird
	//Eingabe lesen
    Eingabe = document.getElementById(ID).value;    	//ID: Input für Eingabefeld
  
    return Eingabe;
}
function getYesNo (ID)					//für Entscheidungsfragen
{
    //Deklaration und Initalisierung
      	var Eingabe;
      	var J = false;
      	var N = false;
	    var Entscheidung;
      //Eingabe lesen
      	Eingabe = document.getElementById(ID).value;    	//ID: Input für Eingabefeld
      //Eingabe Auswerten
    	Eingabe = Eingabe.toUpperCase();                         	//alles in Großbuchstaben umwandeln
      //Eingabe Verarbeiten
      	if (Eingabe.indexOf('JA') != -1)    //String enthält JA
      	{
            Entscheidung = 'Ja';
            J = true;
      	}
      	if (Eingabe.indexOf('NEIN') != -1)    //String enthält NEIN
      	{
            Entscheidung = 'Nein';
            N = true;
      	}
      	if (( (Eingabe.indexOf('JA') == -1) && (Eingabe.indexOf('NEIN') == -1) ) || ( (J === true) && (N === true) )) //String ist unverständlich
      	{
            Entscheidung = 'Ich glaube ich habe das nicht genau verstanden! Antworte bitte mit Ja oder Nein';
      	}

	return Entscheidung;
}
function Output (ID, Text)				//Zur Text Ausgabe
{
	document.getElementById(ID).innerHTML = Text;

	return 0;
}
</script>
</body>
</html>